
// ????????????????????????????????????????????????????????????????
// ????????????????????????? url Routes ???????????????????????????
// ????????????????????????????????????????????????????????????????

// ???????????????????????? File Modules ??????????????????????????
// ?? Controllers
const urlController = require('../controllers/urlController');
const securityController = require('../controllers/securityController');
const viewController = require('../controllers/viewController');

// ??????????????????????? Vendor Modules ?????????????????????????
const express = require('express');

// ~~ Create router and export
const router = express.Router();
module.exports = router;

router
  .route('/')
  .get(urlController.getAll, urlController.getUserURLS, viewController.showAll) // ^^ Main Route

router
  .route('/new')
  .get(securityController.isLoggedIn, viewController.getURLForm) // ^^ URL submission form
  .post(urlController.createURL) // ^^ submit URL data

router
  .route('/:shortURL')
  .get(urlController.getURL, viewController.getOne) // ^^ Returns info about url
  .put(urlController.updateURL) // ^^ Update a data entry
  .delete(urlController.deleteURL) // ^^ Delete a data entry
  
